# BlockChain Based Cab Hiring Using Peer to peer network.

## ABSTRACT:

Most car-hiring systems and radio cab centres come with a middle guy or the agency itself. So what if the corporation like Uber makes a decision to shut down business 
inside the metropolis? If journey-sharing and car lease are moved to the blockchain, without a middleman, each passenger and driver can get linked directly. If the
challenge is finished successfully, it may construct a community that will provide safe, dependable transportation. In this paper, we propose a decentralized car-hiring
service based on Blockchain. However, the majority of present ride-sharing services rely on a third party app or agent which has a centralized network where the 
information of the passengers like address, mobile number etc get stored and so has the possibility of leaking of information. This system already has been implemented
in a few countries, if this was implemented in India both the Cab drivers and the passengers get benefited. So that the data of the passenger is completely secured in
turn the drivers can earn more because of this decentralized network. The proposed gadget allows drivers to offer trip-sharing services without depending on a third
party. Both riders and drivers can know riders' exact trip statistics, such as pick-up/drop-off location, departure/arrival date and journey rate. And those data 
are completely secured and it can only be seen by the drivers end by peer to peer network.

## INTRODUCTION: 

WHAT IF we had a transport which is safe and secure and even can reach door to door services at a shorter time? There ought to be centers or offerings set up to provide 
customers with a convenient and dependable provider.In the past few years, Blockchain Technology is revolutionizing every major industry with its unique properties. 
The research has been going on to explore the problems where blockchain can be used and provide its distinguishing solutions. Crowdfunding, Insurance, Healthcare, 
Governance are some of the fields where blockchain is already progressing. In recent years the sharing economy has experienced exponential growth. For example, 
ridesharing companies like Ola, Uber, Airbnb and Lyft have evidenced the growth. These companies allow the customers to share their resources with other third parties 
who do not possess and require them. Users sharing their resources with third parties will always make a lot of people participate. However most of the transactions in 
sharing economy systems are done in a centralized platforms with a third party. Those transactions may be a data exchange or payments. So centralized mode of 
transactions is susceptible to threats like password hacks, misusing of customer datas, etc.. It also leads to an increase in cost and requires more effort in
maintaining it. The major contributor to the sharing economy is shared transport like taxi rides. Nowadays ride sharing operators like Uber, Ola and Lyft are leading 
their way in ride sharing systems. All the ride sharing applications in the country use a centralized system. But using a centralized system in ride sharing services 
has many disadvantages like surge pricing, convenience cost, GST, payment gateway charges etc.. Thus we need better approaches than a centralized system. The solution to 
overcome the demerits if centralized system is using a decentralized, peer to peer approach in this cab hiring process. The main objective of this paper is to provide a 
better understanding of blockchain technology and it give a deliberate consideration of how to integrate it into business strategies.This paper claims the following 
contributions: 

i) A blockchain based ride-sharing system is proposed for safe and secured travelling. 

ii) The prototype of the proposed system is developed as a decentralized website (DWeb) by using the Ethereum blockchain.

## lITERATURE SURVEY:

#### Blockchain

Blockchain is a system of recording information in a way that makes it difficult or impossible to change, hack, or cheat the system.Blockchain is a peer-to-peer, distributed
ledger technology that progressed from Bitcoin , a cryptocurrency developed by Satoshi Nakamoto in 2008. The overwhelming success of Blockchain is due to its distinct properties like distributed,
decentralized, immutable, secured, and shared.[1]
Every transaction within the blockchain is
recorded in the ledger and all people inside the
community can access and confirm the
transactions. As it follows a peer-to-peer(P2P)
version blockchain gets rid of the need for
intermediaries. Adapting Blockchain for cab
hiring can lead to various benefits like security,
transparency, trust-free, and automation.In this
paper we are going to hire a cab using blockchain
network.Blockchain in cab hiring can improve the
performance, efficiency, security of the modern
technology. The most commonly used distributed
ledger technology is Blockchain.[1] It organizes
the data into several blocks interconnected with
each other. Thus making the blockchain safe and
secure.

#### Ethereum

Ethereum is a public and permissionless
blockchain introduced by Vitalik Buterin.
Ethereum is built with Turing complete
programming language and overcomes several
limitations of Bitcoin’s scripting language
difficulty[3]. Transactions on Ethereum are
accomplished through Smart Contracts. Smart
contracts are applications saved in blockchain
which run when predefined conditions are met.
Transactions are cryptographically signed
commands in ethereum and the fee for those
transactions is paid as Ether. Ether is the
integrated foreign money of Ethereum. Other than
payment for transactions ether is likewise used as
a pricing device for strolling DApps inside the
gadget. Ethereum defines cost for every
computation in the form of Gas[4]. These
instructions are executed by Ethereum Virtual
Machine (EVM) running in every node of the
network. Some of the potential domains of
Ethereum are Insurance, File Storage, Market
Predictions, FinTech, etc.

#### Smart contract:

Smart contracts (also called distributed apps) are very popular nowadays. So what is a smart contract.The term “smart contract” was first used by Nick Szabo in 1997, long before Bitcoin was created.He is a computer scientist, law scholar and cryptographer.According to him a smart contract uses a distributed ledger to store contracts.Now, smart contracts are just like contracts in the real world.The only difference is that they are completely digitized.[5]In fact a smart contract is actually a tiny computer program that is stored inside a blockchain.
Why should we trust a smart contract?
Smart contracts are stored on a blockchain, they
has some interesting properties like they are,

● Immutable

● Distributed

Immutable means that once a smart contract is
created, it can never be changed again.So no one
can move in the back of your again and tamper with
the code of your settlement.

Distributed means that the output of your contract
is validated by everyone on the network.So a single
person cannot force the contract to release the
funds because other people on the network will spot
this attempt and mark it as invalid.Tampering with
smart contracts becomes almost impossible.We can program the smart contract so that it holds all the received funds until a certain goal is reached.The supporters of a project can now transfer their money to the smart contract.If the project gets fully funded, the contract automatically passes the money to the creator of the project.And if the project fails to meet the goal, the money automatically goes back to the supporters.

## CHALLENGES OF CURRENT SYSTEM:

#### Safety measures:

Nowadays, the most vital trouble
confronted with the aid of folks that travel
thru Uber, Ola, or any driving platforms is
safety. The safety of both motive force and
the clients are at stake. Despite spending a
massive amount in heritage verification
approaches this problem persists.

1. Price for cab hiring:
Due to the absence of third party
apps or middle man the cost of booking a
cab is reduced. By the way the driver can
earn much higher at the same time the
overall cost of cab hiring is reduced.
2. Privacy:
Uber even uses algorithmic
predictions to locate how many clients are
inclined to pay extra than the services they receive; that's rather a safety breach. Also,
having all consumer info in centralized
servers can invite hackers for numerous
attacks.
Once the ride is finished, the person can pay
through the app and the cab issuer receives
and could ship the driver’s rate after
decreasing a considerable amount of
transaction charge.All transactions or
information exchange here were
controlled by the service provider(3rd
party) who is the central authority and
has control over the data.

#### PROPOSED BLOCKCHAIN BASED CAB HIRING FRAMEWORK: 

A decentralized Peer to Peer framework
using Blockchain is proposed based on an
existing framework. A decentralized
peer-to-peer website is developed which will
act as a front-end interface and is built on a
decentralized Ethereum blockchain at the
backend[2]. In this frame both the driver and
the rider get registered with necessary
details. And these data are stored in a
distributed ledger.

1) The driver gets registered on the website
by creating his profile on it. He needs to
provide necessary documents like driving
license, papers and so on.
2) These documents are verified by the legal
authorities called miners in the
blockchain network. Now a smart
contract is done to generate the ratings
of the driver by his experience on driving.
3) Similarly the rider should also get
registered on the website and provide
necessary data like name, number,
address etc., while hiring the cab.
4) After the verification of both the driver
and rider is done, the website will search
the cab driver who is near the riders from
address.
5) Now the driver was able to reach the rider
and then pick him up to the destination.
6) After knowing the from and destination
another smart contract is made to
calculate the cost of the ride using
distance formula.
7) Now the rider will pay the ride either
through cash or as blockchain gas.

![Blockchain](https://user-images.githubusercontent.com/106262083/221471696-be4a741b-9524-44e5-82c3-e8165791b1f1.png)

## IMPLEMENTATION: 

#### Needed Tools and Libraries 
We need several tools and libraries to
access etherium and to create a quality website
for hiring cab.

1. Solidity - A computer programming language to access, write and implement smart contracts using ethereum

2. Tuffle framework - Provides a framework for testing the contracts. Gives tools to installation of Smart Contracts in the blockchain.

3. Meta mask - It is used to read and write in smart contracts so that transactions will be made. 

4. MongoDB - All the data were saved in blockchain to access and display those data we need MongoDB.

#### Flow of the Cab Hiring Website: 
To create the prototype of the proposed framework we
make use of the local Ethereum framework, MetaMask,
Web3js, and MongoDB. Two kinds of contributors are
identified for this Cab hiring website such that the driver
and the rider. Each user has separate roles and
responsibilities that are offered using different
dashboards of the website.
● The rider gets registered to the website by giving his/her details like mobile number and picking up address(which will be stored and encrypted and accessed only if we put the correct public key).

● Then it will ask the rider’s further details like drop address,name which will be stored and encrypted in the blockchain network (and accessed using MongoDB only if we put the correct private key ). 

● Now the website will locate the cab which is nearer to the rider which will be done using the help of blockchain miners. 

● Miners will mail the public key to the nearby cab driver.

● After decrypting the public key, now the driver was able to access the rider’s pick address. 

● After reaching the rider’s picking point the rider will provide a private key to the driver so that he is able to know the rider's drop point. 

● Now the driver has the information like pick up and drop point so that a smart contract is made in Ethereum network to calculate the cost of the ride (using Tuffle framework). 

● The smart contract is programmed to calculate the cost of the ride using the distance formula which will be explained in the next topic. 

● The rider could pay either through blockchain gas coins or as normal cash. ● Finally reaching the destination. 

#### Distancing Algorithm : 

This web app will locate the latitude and longitude of both the rider and the driver using a python program then it will calculate the distance between them using an
algorithm called Haversine formula. 

#### Haversine formula: 

We can calculate the distance between two points using Haversine algorithm.
Let we consider latitude as latt and longitude as long,(where latt and long are in radians) At first we have to convert latt and long in radians,
(Latt1 and latt2 be latitude of rider and driver and long1 and long2 be longitude of rider and driver) 

![Formula](https://user-images.githubusercontent.com/106262083/221476411-7482e978-98b0-48c6-98bc-2390237e4a42.png)

Where arcsine is a math function which converts the number in radians (in between -1 to +1) and 6371 is the radius of earth in kilometres.

#### Pricing Algorithm : 
By including google maps in our project we could easily measure the distance between rider and the driver. And we could calculate the cost of the ride using a smart contract as per the distance of the ride by the driver. We could also use the below formula to calculate the distance,
![Screenshot_20230227_101651](https://user-images.githubusercontent.com/106262083/221476667-70108ef2-59d2-4457-8f21-344a19821884.png)

The workflow of the website is given below, 
## FLOWCHART: 
![workflow](https://user-images.githubusercontent.com/106262083/221476782-539a6d35-4074-43ef-b38e-85022df1640f.png)

## MERITS: 

❖ As this project is based on blockchain the data provided by the rider as well as the driver were completely secured and safe as it will be stored in a decentralized ledger. 

❖ The driver can earn more because there is no third party involved. 

❖ The cost of the ride is low as there is no third party involved. 

❖ The rider gets indirectly befitted as their time is saved.

❖ Every information about currency exchange can be accessed and viewed by both rider and driver. 

❖ As this idea is based on blockchain every information and transactions were
explored but the personal data remain unexplored hence it is decentralized and anonymous.

## CONCLUSION:

The motive of this paper is to explore the use of blockchain technology in for transport sites.This paper presents the solutions for demerits in the existing 
centralised method of cab hiring system and proposes a more improvised version for the existing system.Further, to improve this ride-sharing framework, 
a Decentralized Website is developed. Ethereum is a permissionless public blockchain, used in this DWeb and the transactions and data exchange over the 
network is controlled by smart contracts. Blockchain is used to create a system in which smart contracts with digital code are maintained in decentralized 
and transparent databases which are safe and secure. Here,we have a decentralised system where no more intermediaries are needed. Blockchain is a manageable
technology intended to end the issues in existing cab hiring systems and as well as in other business models by providing solutions. Rather, it is also a 
foundational technology which is capable of providing new frameworks for economic and social issues. However, while blockchain has a great effect, 
it takes a few decades for it to pervade our socioeconomic infrastructure. Even though blockchain can be used on its own, it will have a great impact when
it is integrated with other technologies like the Internet of Things, Artificial Intelligence, and Big data. This could lead to better solutions for 
location-based automotive services. In future we intend to extend the work by analyzing the cost and performance of the application developed. 
To explore the technology from a data processing perspective as blockchain technology is a trust-free system and enables users to trust data.
Although the overall data quality is improved in blockchain technology it is important to know the data processing abilities while integrating 
the blockchain with a larger software system and it analyses the data processing workloads on different types of blockchain. 

## REFERENCE:

1. https://en.wikipedia.org/wiki/Blockchain
2. https://www.iieta.org/journals/ijsse/paper/10.18280/ijsse.110205 
3. https://www.forbes.com/sites/bernardmarr/2018/02/02/blockchain-a-very-short-history-of-ethereum-everyone-should-read/?sh=26d005a21e89 
4. https://www.quicknode.com/ 
5. https://www.youtube.com/watch?v=ZE2HxTmxfrI
